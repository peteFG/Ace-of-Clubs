<div class="container">

  <div class="card-bg">
    <form [formGroup]="registerFormGroup" (ngSubmit)="createOrUpdateUser()">

      <mat-card class="register-card">
        <mat-card-header class="card-container" style="margin-bottom: 5px">
          <mat-card-title class="mat-h3">CREATE A NEW</mat-card-title>
          <mat-card-title class="mat-h3" style="padding-top: 0">ACCOUNT</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-form-field>
            <input matInput type="text" placeholder="Username" formControlName="username" required>
            <mat-hint align="end">Username</mat-hint>
            <mat-error *ngIf="registerFormGroup.controls.username.hasError('required')">Username is required</mat-error>
            <mat-error *ngIf="registerFormGroup.controls.username.hasError('usernameAlreadyExists')">Username already exists</mat-error>

          </mat-form-field>
          <br>
          <mat-form-field>
            <input matInput type="text" placeholder="First Name" formControlName="first_name" required>
            <mat-hint align="end">First Name</mat-hint>
            <mat-error *ngIf="registerFormGroup.controls.first_name.hasError('required')">First Name is required
            </mat-error>
          </mat-form-field>
          <br>
          <mat-form-field>
            <input matInput type="text" placeholder="Last Name" formControlName="last_name" required>
            <mat-hint align="end">Last Name</mat-hint>
            <mat-error *ngIf="registerFormGroup.controls.last_name.hasError('required')">Last Name is required
            </mat-error>
          </mat-form-field>
          <br>
          <mat-form-field>
            <input matInput type="email" placeholder="E-Mail" formControlName="email" required email>
            <mat-hint align="end">E-Mail</mat-hint>
            <mat-error *ngIf="registerFormGroup.controls.email.hasError('required')">Email is required</mat-error>
            <mat-error *ngIf="registerFormGroup.controls.email.hasError('email')">Enter a valid Email address
            </mat-error>
            <mat-error *ngIf="registerFormGroup.controls.email.hasError('emailAlreadyExists')">Email address already exists</mat-error>

          </mat-form-field>
          <br>
          <mat-form-field>
            <input matInput type="password" placeholder="Enter Password" formControlName="password" minlength="8"
                   required
                   (input)="onPasswordInput()">
            <mat-hint align="end">Password</mat-hint>
            <mat-error *ngIf="registerFormGroup.controls.password.hasError('required') ">Password is required
            </mat-error>
            <mat-error *ngIf="registerFormGroup.controls.password.hasError('minlength') ">Password is not secure! (min. 8 characters)
            </mat-error>
          </mat-form-field>
          <br>
          <mat-form-field>
            <input matInput type="password" placeholder="Confirm Password" formControlName="password2" required
                   (input)="onPasswordInput()">
            <mat-hint align="end">Password</mat-hint>
            <mat-error *ngIf="password2.hasError('required')">Confirm Password is required!</mat-error>
            <mat-error *ngIf="password2.invalid && !password2.hasError('required')">Password do not match!</mat-error>
          </mat-form-field>

        </mat-card-content>

        <mat-card-actions>
          <button mat-raised-button type="submit" class="btn-standard" [disabled]="registerFormGroup.invalid">Register</button>
        </mat-card-actions>

        <mat-card-actions>
          <a routerLink="/login" class="btn btn-link" color="standard">Already have an Account</a>
        </mat-card-actions>
      </mat-card>
    </form>
  </div>
</div>
